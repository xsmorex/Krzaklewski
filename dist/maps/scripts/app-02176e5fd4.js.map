{"version":3,"sources":["/source/index.config.js"],"names":["angular","module","call","this","service","ENTRY","MODE_SELECTION","RANKING","EXIT","controller","$scope","MenuStates","menuStates","state","main","play","gameType","$state","go","pedalLevels",0,"range","image",1,2,3,"getImage","acceleration","i","len","level","ref","length","wsService","ws","connect","successCallback","failureCallback","WebSocket","onopen","onclose","handleMessage","callback","onmessage","Pedal","currentAcceleration","status","window","DeviceMotionEvent","ondevicemotion","e","accelerationIncludingGravity","z","run","$log","debug","config","$stateProvider","$urlRouterProvider","url","templateUrl","otherwise","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"CAAA,WACEA,QAAQC,OAAO,aAAc,YAAa,YAAa,UAAW,aAAc,aAAc,SAAU,aAAc,YAAa,aAElIC,KAAKC,MAIR,WACEH,QAAQC,OAAO,aAAaG,QAAQ,aAAc,WAChD,OACEC,MAAO,EACPC,eAAgB,EAChBC,QAAS,EACTC,KAAM,KAIVR,QAAQC,OAAO,aAAaQ,WAAW,kBAAA,SAAA,aAAkB,SAASC,EAAQC,GAMxE,MALAD,GAAOE,WAAaD,EACpBD,EAAOG,MAAQF,EAAWN,MAC1BK,EAAOI,KAAO,WACZ,MAAOJ,GAAOG,MAAQF,EAAWN,OAE5BK,EAAOK,KAAO,SAASC,GAC5B,MAAKA,GAIEC,OAAOC,GAAG,aAHfR,EAAOG,MAAQF,EAAWL,qBAO/BJ,KAAKC,MAIR,WACEH,QAAQC,OAAO,aAAaG,QAAQ,QAAS,WAC3C,OACEe,aACEC,GACEC,OAAQ,EAAG,IACXC,MAAO,iBAETC,GACEF,OAAQ,GAAI,IACZC,MAAO,oBAETE,GACEH,OAAQ,GAAI,IACZC,MAAO,kBAETG,GACEJ,OAAQ,GAAI,KACZC,MAAO,uBAGXI,SAAU,SAASC,GACjB,GAAIC,GAAGC,EAAKC,EAAOC,CAEnB,KADAA,EAAM5B,KAAKgB,YACNS,EAAI,EAAGC,EAAME,EAAIC,OAAYH,EAAJD,EAASA,IAErC,GADAE,EAAQC,EAAIH,GACRD,GAAgBG,EAAMT,MAAM,IAAMM,GAAgBG,EAAMT,MAAM,GAChE,MAAOS,GAAMR,UAOvBtB,QAAQC,OAAO,aAAaG,QAAQ,YAAa,WAC/C,GAAI6B,EAYJ,OAXAA,IACEC,GAAI,KACJC,QAAS,SAASC,EAAiBC,GAGjC,MAFAJ,GAAUC,GAAK,GAAII,WAAU,wBAC7BL,EAAUC,GAAGK,OAASH,EACfH,EAAUC,GAAGM,QAAUH,GAEhCI,cAAe,SAASC,GACtB,MAAOT,GAAUU,UAAYD,MAMnC1C,QAAQC,OAAO,aAAaQ,WAAW,kBAAA,SAAA,YAAA,QAAkB,SAASC,EAAQ4B,EAAWM,GACnF,GAAIC,EACJnC,GAAOoC,OAAS,aAChBR,EAAUH,QAAQ,WAChB,MAAOzB,GAAOoC,OAAS,aACtB,WACD,MAAOpC,GAAOoC,OAAS,iBAEzBD,EAAsB,EAClBE,OAAOC,oBACTD,OAAOE,eAAiB,SAASC,GAC/B,MAAOL,GAAsBK,EAAEC,6BAA6BC,QAKjElD,KAAKC,MAIR,WACEH,QAAQC,OAAO,aAAaoD,KAAA,OAAI,SAASC,GACvC,UACA,OAAOA,GAAKC,MAAM,oBAGnBrD,KAAKC,MAIR,WACEH,QAAQC,OAAO,aAAauD,QAAA,iBAAA,qBAAO,SAASC,EAAgBC,GAC1D,UAUA,OATAD,GAAe5C,MAAM,QACnB8C,IAAK,IACLC,YAAa,sBACbnD,WAAY,mBACXI,MAAM,QACP8C,IAAK,QACLC,YAAa,sBACbnD,WAAY,mBAEPiD,EAAmBG,UAAU,SAGrC3D,KAAKC,MAIR,WACEH,QAAQC,OAAO,aAAa6D,SAAS,WAAYC,UAAUD,SAAS,SAAUE,SAE7E9D,KAAKC,MAIR,WACEH,QAAQC,OAAO,aAAauD,QAAA,eAAA,eAAO,SAASS,EAAcC,GACxD,UAMA,OALAD,GAAaE,cAAa,GAC1BD,EAAaE,WAAY,EACzBF,EAAaG,QAAU,IACvBH,EAAaI,cAAgB,kBAC7BJ,EAAaK,mBAAoB,EAC1BL,EAAaM,aAAc,MAGnCtE,KAAKC,MAIRH,QAAQC,OAAO,aAAaoD,KAAK,iBAAkB,SAASoB,GAAiBA,EAAeC,IAAI,sBAAsB,oMACtHD,EAAeC,IAAI,sBAAsB,+QACzCD,EAAeC,IAAI,sBAAsB","file":"scripts/app-02176e5fd4.js","sourcesContent":["(function() {\n  angular.module('starthack', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'toastr']);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('starthack').service('MenuStates', function() {\n    return {\n      ENTRY: 0,\n      MODE_SELECTION: 1,\n      RANKING: 2,\n      EXIT: 3\n    };\n  });\n\n  angular.module('starthack').controller('MenuController', function($scope, MenuStates) {\n    $scope.menuStates = MenuStates;\n    $scope.state = MenuStates.ENTRY;\n    $scope.main = function() {\n      return $scope.state = MenuStates.ENTRY;\n    };\n    return $scope.play = function(gameType) {\n      if (!gameType) {\n        $scope.state = MenuStates.MODE_SELECTION;\n        return;\n      }\n      return $state.go('game');\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('starthack').service('Pedal', function() {\n    return {\n      pedalLevels: {\n        0: {\n          range: [0, 30],\n          image: 'pedal_low.png'\n        },\n        1: {\n          range: [30, 50],\n          image: 'pedal_medium.png'\n        },\n        2: {\n          range: [50, 80],\n          image: 'pedal_high.png'\n        },\n        3: {\n          range: [80, 100],\n          image: 'pedal_veryhigh.png'\n        }\n      },\n      getImage: function(acceleration) {\n        var i, len, level, ref;\n        ref = this.pedalLevels;\n        for (i = 0, len = ref.length; i < len; i++) {\n          level = ref[i];\n          if (acceleration >= level.range[0] && acceleration <= level.range[1]) {\n            return level.image;\n          }\n        }\n      }\n    };\n  });\n\n  angular.module('starthack').service('WebSocket', function() {\n    var wsService;\n    wsService = {\n      ws: null,\n      connect: function(successCallback, failureCallback) {\n        wsService.ws = new WebSocket(\"ws://localhost:8000/\");\n        wsService.ws.onopen = successCallback;\n        return wsService.ws.onclose = failureCallback;\n      },\n      handleMessage: function(callback) {\n        return wsService.onmessage = callback;\n      }\n    };\n    return wsService;\n  });\n\n  angular.module('starthack').controller('GameController', function($scope, WebSocket, Pedal) {\n    var currentAcceleration;\n    $scope.status = 'connecting';\n    WebSocket.connect(function() {\n      return $scope.status = 'connected';\n    }, function() {\n      return $scope.status = 'disconnected';\n    });\n    currentAcceleration = 0;\n    if (window.DeviceMotionEvent) {\n      window.ondevicemotion = function(e) {\n        return currentAcceleration = e.accelerationIncludingGravity.z;\n      };\n    }\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('starthack').run(function($log) {\n    'ngInject';\n    return $log.debug('runBlock end');\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('starthack').config(function($stateProvider, $urlRouterProvider) {\n    'ngInject';\n    $stateProvider.state('menu', {\n      url: '/',\n      templateUrl: 'app/views/menu.html',\n      controller: 'MenuController'\n    }).state('game', {\n      url: '/game',\n      templateUrl: 'app/views/game.html',\n      controller: 'GameController'\n    });\n    return $urlRouterProvider.otherwise('/');\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('starthack').constant('malarkey', malarkey).constant('moment', moment);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('starthack').config(function($logProvider, toastrConfig) {\n    'ngInject';\n    $logProvider.debugEnabled(true);\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    return toastrConfig.progressBar = true;\n  });\n\n}).call(this);\n\n\n\nangular.module(\"starthack\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/views/game.html\",\"<div class=\\\"game__message\\\" ng-if=\\\"status == \\'disconnected\\'\\\">DISCONNECTED</div><div class=\\\"game\\\" ng-if=\\\"status == \\'connected\\'\\\"><div class=\\\"pedal\\\"><img ng-src=\\\"{{ pedalImage }}\\\"></div></div>\");\n$templateCache.put(\"app/views/main.html\",\"- title - menu (arrow control) - background gif? - 1: [ Play Ranking Settings Exit ] 1 -> 2 2: [ Select mode: Real track Simulation ] 2* -> 3 3: [ Please wait for your turn. [ SPECTATOR DISPLAY ] ] 4: [ [ Disconnect ] [ GAMER DISPLAY (po prawej u dołu pedał gazu) ] ]\");\n$templateCache.put(\"app/views/menu.html\",\"<div class=\\\"menu\\\"><div class=\\\"title\\\">TheTrackTroll</div><span ng-show=\\\"state == menuStates.ENTRY\\\"><a ng-click=\\\"play()\\\">Play</a> <a ng-click=\\\"settings()\\\">Settings</a> <a ng-click=\\\"ranking()\\\">Ranking</a> <a ng-click=\\\"exit()\\\">Exit</a></span> <span ng-show=\\\"state == menuStates.MODE_SELECTION\\\"><a ng-click=\\\"play(\\'real\\')\\\">Real mode</a> <a ng-click=\\\"exit(\\'simulation\\')\\\">Simulation</a> <a ng-click=\\\"main()\\\">Go back</a></span></div>\");}]);"],"sourceRoot":"/source/"}